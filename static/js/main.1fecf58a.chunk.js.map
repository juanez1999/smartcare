{"version":3,"sources":["components/Login.jsx","utils/userContext.jsx","components/Course.jsx","components/Home.jsx","components/StudentCard.jsx","components/CourseDetails.jsx","components/StudentDetails.jsx","App.js","index.js"],"names":["Login","setUser","classes","useStyles","useState","email","setEmail","password","setPassword","history","useHistory","className","src","process","alt","action","onSubmit","e","preventDefault","firebase","auth","signInWithEmailAndPassword","then","user","push","catch","error","console","log","code","message","TextField","id","label","root","value","onChange","target","type","autoComplete","Button","variant","color","containedPrimary","containedBtn","makeStyles","createStyles","width","margin","focusedLabel","backgroundColor","userContext","createContext","Course","title","idCourse","schedule","students","onClick","goToLessonDetails","Home","useContext","name","setName","courses","setCourses","userID","uid","React","useEffect","db","firestore","collection","doc","get","exists","data","unsubscribe","onSnapshot","querySnapshot","coursesTemp","forEach","map","course","StudentCard","nameStudent","idStudent","activeStep","steps","goToStudentDetails","Stepper","alternativeLabel","Step","StepLabel","padding","CourseDetails","setIdCourse","useParams","courseDetails","setCourseDetails","setStudents","studentsTemp","student","AWS","require","StudentDetails","setStudent","washes","setWashes","config","update","region","DynamoDB","DocumentClient","washesTemp","window","back","length","wash","hour","apps","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","onAuthStateChanged","Provider","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1fecf58a.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles, createStyles } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from 'firebase/app';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const Login = ({setUser}) => {\r\n    const classes = useStyles();\r\n\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    let history = useHistory();\r\n\r\n    const sendData = (e)=>{\r\n        e.preventDefault();\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .then((user) => {\r\n            setUser(user);\r\n            history.push('/home');\r\n            \r\n        }).catch((error) => {\r\n            console.log(error.code);\r\n            console.log(error.message);\r\n        });\r\n    }\r\n    return(\r\n        <div className=\"login\">\r\n            <img className=\"login__bg\" src={process.env.PUBLIC_URL+'/resources/imgLogin.png'} alt=\"\" />\r\n            <img className=\"login__logo\" src={process.env.PUBLIC_URL+'/resources/logo.svg'} alt=\"\" />\r\n            <form className=\"login__form\" action=\"\" onSubmit={sendData}>\r\n                <TextField \r\n                    id=\"standard-basic\" \r\n                    label=\"Correo electronico\" \r\n                    classes={{root: classes.root}} \r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                />\r\n                <TextField \r\n                    id=\"standard-password-input\"\r\n                    label=\"Contraseña\"\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    classes={{root: classes.root}} \r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                />\r\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\" classes={{containedPrimary:classes.containedBtn}}>\r\n                    Iniciar sesión\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(() =>\r\n    createStyles({\r\n        root:{\r\n            width:'100%',\r\n            color: '#1C3496',\r\n            margin: '20px 0px',\r\n        },\r\n        focusedLabel:{\r\n            color: '#1C3496',\r\n        },\r\n        containedBtn:{\r\n            backgroundColor:'#7250FD',\r\n            margin: '20px 0px',\r\n            '&:hover': {\r\n                backgroundColor: '#6039FF',\r\n            },\r\n        }\r\n    })\r\n);","import { createContext } from \"react\";\r\n\r\nexport const userContext = createContext({\r\n    user: ['']\r\n});","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const Course = ({title,idCourse,schedule,students}) => {\r\n\r\n    let history = useHistory();\r\n\r\n    const goToLessonDetails = (idCourse) => {\r\n        history.push('/courseDetails/'+idCourse);\r\n    }\r\n\r\n    return ( \r\n        <div className=\"course\" onClick={() => goToLessonDetails(idCourse)}>    \r\n            <p className=\"course__schedule\">{schedule}</p>\r\n            <h3 className=\"course__title\">{title}</h3>\r\n            <p className=\"course__students\">{students}</p>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useContext } from 'react';\r\nimport { userContext } from '../utils/userContext';\r\nimport firebase from 'firebase/app';\r\nimport { Course } from './Course';\r\n\r\nexport const Home = () => {\r\n    const { user } = useContext(userContext);\r\n    const [name,setName] = useState('');\r\n    const [courses,setCourses] = useState([]);\r\n\r\n    const userID = user?.user?.uid;\r\n\r\n    React.useEffect(() =>{\r\n        if(!userID) return;\r\n        const db = firebase.firestore();\r\n        const docRef = db.collection(\"users\").doc(userID);\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n                setName(doc.data().name);\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        }).catch((error) => {\r\n            console.log(\"Error getting document:\", error);\r\n        });   \r\n\r\n        const unsubscribe = db.collection(\"users\").doc(userID).collection('courses').onSnapshot((querySnapshot) => {\r\n            let coursesTemp = []; \r\n            querySnapshot.forEach((doc) => {\r\n                coursesTemp.push(doc.data());\r\n            });\r\n            setCourses(coursesTemp);\r\n        });\r\n\r\n        return () => {\r\n            console.log('component destroyed');\r\n            unsubscribe();\r\n        }\r\n    },[userID])\r\n\r\n    return (\r\n        <div className='home'>\r\n            <div className=\"home__welcome\">\r\n                <h1>Bienvenida, {name}</h1>\r\n                <p>Visualiza tus cursos de hoy y el estado de cada estudiante.</p>\r\n            </div>\r\n            <div className=\"home__courses\">\r\n                <h2>Tus cursos</h2>\r\n                {courses.map((course) =>{\r\n                    return(\r\n                        <Course key={course.id} title={course.title} idCourse={course.id} schedule={course.schedule} students={course.students}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport { makeStyles, createStyles } from '@material-ui/core';\r\n\r\nexport const StudentCard = ({nameStudent,idStudent}) => {\r\n\r\n    let history = useHistory();\r\n    const classes = useStyles();\r\n    const [activeStep, setActiveStep] = useState(1);\r\n\r\n    const goToStudentDetails = (idStudent) => {\r\n        history.push('/studentDetails/'+idStudent);\r\n    }\r\n\r\n    function getSteps() {\r\n        return ['Primer lavado', 'Segundo lavado', 'Tercer lavado','Cuarto lavado','Quinto lavado'];\r\n    }\r\n\r\n    const steps = getSteps();\r\n\r\n    return (\r\n        <div className=\"studentCard\" onClick={()=>goToStudentDetails(idStudent)}>\r\n            <h4>{nameStudent}</h4>\r\n            <div className=\"studentCard__timeline\">\r\n                <Stepper activeStep={activeStep} alternativeLabel classes={{root: classes.root}}>\r\n                    {steps.map((label) => (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                    ))}\r\n                </Stepper>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(() =>\r\n    createStyles({\r\n        root:{\r\n            padding: '0px',\r\n        },\r\n    })\r\n);\r\n","import React, { useState, useContext } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { userContext } from '../utils/userContext';\r\nimport firebase from 'firebase/app';\r\nimport { StudentCard } from './StudentCard';\r\n\r\nexport const CourseDetails = ({setIdCourse}) => {\r\n\r\n    const { id } = useParams();\r\n    const idCourse = id;\r\n    const { user } = useContext(userContext);\r\n    const userID = user?.user?.uid;\r\n    const [courseDetails,setCourseDetails] = useState([]);\r\n    const [students,setStudents] = useState([]);\r\n\r\n    React.useEffect(()=>{\r\n        if(!userID) return;\r\n        if(!idCourse) return;\r\n        setIdCourse(idCourse);\r\n        var db = firebase.firestore(); \r\n        db.collection(\"users\").doc(userID).collection('courses').doc(idCourse).get()\r\n        .then((doc)=> {\r\n            if (doc.exists) {\r\n                setCourseDetails(doc.data());\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        })\r\n\r\n        const unsubscribe = db.collection(\"users\").doc(userID).collection('courses').doc(idCourse).collection('students').onSnapshot((querySnapshot) => {\r\n            let studentsTemp = []; \r\n            querySnapshot.forEach((doc) => {\r\n                studentsTemp.push(doc.data());\r\n            });\r\n            setStudents(studentsTemp);\r\n        });\r\n\r\n        return () => {\r\n            console.log('component destroyed');\r\n            unsubscribe();\r\n        }\r\n    }, [userID,idCourse,setIdCourse]);\r\n\r\n    return (\r\n        <div className=\"courseDetails\">\r\n            <div className=\"courseDetails__header\" id={courseDetails.id}>\r\n                <p className=\"courseDetails__headerSchedule\">{courseDetails.schedule}</p>\r\n                <h3 className=\"courseDetails__headerTitle\">{courseDetails.title}</h3>\r\n                <p className=\"courseDetails__headerStudents\">{courseDetails.students}</p>\r\n            </div>\r\n            <div className=\"courseDetails__washed\">\r\n                <h2>Lavado de manos</h2>\r\n                {students.map((student) =>{\r\n                    return(\r\n                        <StudentCard nameStudent={student.name} idStudent={student.id} key={student.id}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { userContext } from '../utils/userContext';\r\nimport firebase from 'firebase/app';\r\n\r\nvar AWS = require(\"aws-sdk\");\r\n\r\nexport const StudentDetails = ({idCourse}) => {\r\n\r\n    const { id } = useParams();\r\n    const idStudent = id;\r\n    const { user } = useContext(userContext);\r\n    const userID = user?.user?.uid;\r\n    const [courseDetails,setCourseDetails] = useState([]);\r\n    const [student,setStudent] = useState('');\r\n    const [washes,setWashes] = useState([]);\r\n\r\n    AWS.config.update({\r\n        region: \"us-east-1\",\r\n        // endpoint: 'endpoint',\r\n        // accessKeyId: \"aqui va el access key\",\r\n        // secretAccessKey: \"aqui va el secretaccess key\"\r\n    });\r\n\r\n    var docClient = new AWS.DynamoDB.DocumentClient();\r\n\r\n    function readItem() {\r\n        var params = {\r\n            TableName: 'serverlessrepo-SmartCare-IoT-App-MyTable-17KRCF5LOCYQE',\r\n            Key:{\r\n                \"id\": {\"S\":\"329174c0-cd60-11eb-b139-1d5a6b0f7911\"},\r\n                }\r\n        };\r\n\r\n        docClient.get(params, function(err, data) {\r\n            if (err) {\r\n                console.error(\"Unable to read item. Error JSON:\", JSON.stringify(err, null, 2));\r\n            } else {\r\n                console.log(\"GetItem succeeded:\", JSON.stringify(data, null, 2));\r\n            }\r\n        });\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        if(!userID) return;\r\n        if(!idCourse) return;\r\n        var db = firebase.firestore(); \r\n        db.collection(\"users\").doc(userID).collection('courses').doc(idCourse).get()\r\n        .then((doc)=> {\r\n            if (doc.exists) {\r\n                setCourseDetails(doc.data());\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        })\r\n\r\n        db.collection(\"users\").doc(userID).collection('courses').doc(idCourse).collection('students').doc(idStudent).get()\r\n        .then((doc)=> {\r\n            if (doc.exists) {\r\n                setStudent(doc.data());\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        })\r\n\r\n        const unsubscribe = db.collection(\"users\").doc(userID).collection('courses').doc(idCourse).collection('students').doc(idStudent).collection('handWashes').onSnapshot((querySnapshot) => {\r\n            let washesTemp = []; \r\n            querySnapshot.forEach((doc) => {\r\n                washesTemp.push(doc.data());\r\n            });\r\n            setWashes(washesTemp);\r\n        });\r\n\r\n        return () => {\r\n            console.log('component destroyed');\r\n            unsubscribe();\r\n        }\r\n\r\n    }, [userID,idCourse,idStudent]);\r\n\r\n    return (\r\n        <div className=\"courseDetails\">\r\n            <div className=\"courseDetails__header\" id={courseDetails.id}>\r\n                <p className=\"courseDetails__headerSchedule\">{courseDetails.schedule}</p>\r\n                <h3 className=\"courseDetails__headerTitle\">{courseDetails.title}</h3>\r\n                <p className=\"courseDetails__headerStudents\">{courseDetails.students}</p>\r\n            </div>\r\n            <div className=\"studentDetails\">\r\n                <div className=\"studentDetails__name\">\r\n                    <img src={process.env.PUBLIC_URL+'/resources/backArrow.svg'} alt=\"\" onClick={()=>window.history.back()}/>\r\n                    <h3>{student.name}</h3>\r\n                </div>\r\n                <p>Hoy</p>\r\n                {washes.length == 0 &&  \r\n                    <div className=\"studentDetails__wash\">\r\n                        <p>No se ha lavado las manos aún</p>\r\n                    </div> \r\n                }\r\n                {washes.map((wash) =>{\r\n                    return(\r\n                        <div className=\"studentDetails__wash\">\r\n                            <p>Se lavó las manos a las:</p>\r\n                            <p>{wash.hour}</p>\r\n                        </div> \r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { Login } from './components/Login';\nimport { Home } from './components/Home';\nimport { CourseDetails } from './components/CourseDetails';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport React, {useState} from 'react';\nimport { userContext } from './utils/userContext';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport { StudentDetails } from './components/StudentDetails';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDxh6gfM-1H1NvO9OnU8csCtFj9hswNrN0\",\n  authDomain: \"smartcareiot-9f3f1.firebaseapp.com\",\n  projectId: \"smartcareiot-9f3f1\",\n  storageBucket: \"smartcareiot-9f3f1.appspot.com\",\n  messagingSenderId: \"133344616870\",\n  appId: \"1:133344616870:web:f531564e5832a70d5fef67\",\n  measurementId: \"G-EM6GZ9R1KR\"\n};\n// Initialize Firebase\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}else {\n  firebase.app(); // if already initialized, use that one\n}\nfunction App() {\n  const [user,setUser] = useState('');\n  const [idCourse,setIdCourse] = useState('');\n  \n  React.useEffect(() => {\n    firebase.auth().onAuthStateChanged((user, error) => {\n      if(user) setUser({ user });\n    })\n  }, []);\n\n  return (\n    <div className=\"App\">\n        <userContext.Provider value={{user}}>\n          <Router>\n            <Route path=\"/\" exact render={()=>{\n                  return <Login setUser={setUser}/> \n            }}/>\n            <Route path=\"/home\" render={()=>{\n                  return <Home/> \n            }}/>\n            <Route exact path=\"/courseDetails/:id\" render={()=>{\n                  return <CourseDetails setIdCourse={setIdCourse}/> \n            }}/>\n            <Route exact path=\"/studentDetails/:id\" render={()=>{\n                  return <StudentDetails idCourse={idCourse} />\n            }}/>\n          </Router>\n        </userContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}